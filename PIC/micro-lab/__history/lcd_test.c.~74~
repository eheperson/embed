#include <lcd_test.h>


//******************* ANA PROGRAM FONKSÝYONU *******************
void main ()
{ 

   setup_psp(PSP_DISABLED);        // PSP birimi devre dýþý
   setup_timer_1(T1_DISABLED);     // T1 zamanlayýcýsý devre dýþý
   setup_timer_2(T2_DISABLED,0,1); // T2 zamanlayýcýsý devre dýþý
   setup_CCP1(CCP_OFF);            // CCP1 birimi devre dýþý
   setup_CCP2(CCP_OFF);            // CCP2 birimi devre dýþý

   set_tris_a(0x01);  // RA0 Giriþ olarak yönlendiriliyor
   set_tris_b(0x00);
   set_tris_c(0xff);

   setup_adc(adc_clock_div_32); 
   setup_adc_ports(AN0); 

   lcd_init();   

   set_adc_channel(0);   
   delay_us(20);         

   lcd_init();  
   rtc_init();  
   rtc_set_datetime(20,07,07,6,22,52); 
   while(1){
      check_alarm();
      display();
     
      if(input(menu)){
         while(input(menu));
         printf(lcd_putc,"\f  Saat Ayari");
         while(1){
            if(input(menu)) {
               while(input(menu));
               break;
            }
            if(input(select)){
               while(input(menu));
               set_clock();
               break;
            }
         }
         
         delay_ms(20);
         printf(lcd_putc,"\f  Tarih Ayari");
         while(1){
            if(input(menu)){
               while(input(menu));
               break;
            }
            if(input(select)){
               while(input(select));
               set_date();
               break;
            }
         }
         while(input(menu));
         delay_ms(20);
         printf(lcd_putc,"\f  Alarm Ayari");
         while(1){
            if(input(menu)){
               while(input(menu));
               break;
            }
            if(input(select)){
               while(input(select));
               set_alarm();
               break;
            }
         
         }
      }
      
  }
}

